spring:
  cloud:
    consul:
      host: 192.168.99.103
      port: 8500
    config:
      name: gateway
      profile: dev
      fail-fast: true
      discovery:
        enabled: true
        service-id: config
    gateway:
      discovery:
        locator:
          enabled: true
          lower-case-service-id: true
          predicates[0]:
            name: Path
            args[pattern]: "'/order/**'"
          filters[0]:
            name: RewritePath
            args[regexp]: "'/order/(?<remaining>.*)'"
            args[replacement]: "'/${remaining}'"
      routes:
      - id: repeat_product_route
        uri: lb://product
        predicates:
        - Path= /repeat-product/**
        filters:
        - StripPrefix=1